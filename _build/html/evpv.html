
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>evpv package &#8212; EV-PV 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=362ab14a" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "displayMath": [["$$", "$$"], ["\\[", "\\]"]], "processEscapes": true}, "options": {"skipStartupTypeset": true}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'evpv';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to evpv’s documentation!" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">EV-PV 0.1.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    evpv package
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    evpv package
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">evpv package</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="evpv-package">
<h1>evpv package<a class="headerlink" href="#evpv-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-evpv.chargingsimulator">
<span id="evpv-chargingsimulator-module"></span><h2>evpv.chargingsimulator module<a class="headerlink" href="#module-evpv.chargingsimulator" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.chargingsimulator.</span></span><span class="sig-name descname"><span class="pre">ChargingSimulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.region.Region" title="evpv.region.Region"><span class="pre">Region</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_fleet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.vehiclefleet.VehicleFleet" title="evpv.vehiclefleet.VehicleFleet"><span class="pre">VehicleFleet</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mobility_demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.mobilitysimulator.MobilitySimulator" title="evpv.mobilitysimulator.MobilitySimulator"><span class="pre">MobilitySimulator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_efficiency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to simulate the spatio-temporal daily charging demand of an electric vehicle fleet within a specified region.</p>
<p>This class models charging demand by integrating data from mobility simulations, region-specific characteristics, 
and vehicle fleet details, along with user-defined charging scenarios that include charging efficiency and behavior settings.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Spatial Charging Demand: Computes the charging demand per traffic zone within the specified region, enabling geographically detailed assessments of charging needs.</p></li>
<li><p>Temporal Charging Demand: Generates a load profile for each electric vehicle across all traffic zones using stochastic allocation.
The number of vehicles charging and charging times are based on a state-of-charge (SOC) decision model, with a “dumb charging” 
strategy by default (where vehicles charge at full charger power upon arrival).</p></li>
<li><p>Scenario-Based Modeling: Allows flexible scenario configuration, including charging locations (with varying charger power levels), 
and custom arrival times at home and work, to reflect realistic charging patterns.</p></li>
<li><p>Smart Charging Compatibility: Enables the application of smart charging strategies in a secondary processing step, with 
pre-implemented strategies such as peak shaving to manage grid impact.</p></li>
</ul>
<p>Note: This class assumes the use of a predefined region, vehicle fleet, and mobility demand simulator. Charging scenario parameters are provided
as a dictionary, allowing flexible configuration of different charging behaviors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.apply_smart_charging">
<span class="sig-name descname"><span class="pre">apply_smart_charging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charging_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">share</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.apply_smart_charging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.apply_smart_charging" title="Link to this definition">#</a></dt>
<dd><p>Apply a smart charging strategy to a subset of vehicles at specific locations.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>location (list): List of location types (‘home’, ‘work’, ‘poi’).
charging_strategy (str): The name of the charging strategy to apply.
share (float): Proportion of vehicles participating (between 0 and 1).
kwargs: Additional parameters for specific charging strategies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.charging_efficiency">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">charging_efficiency</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.charging_efficiency" title="Link to this definition">#</a></dt>
<dd><p>float: The charging efficiency (between 0 and 1).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.chargingdemand_nvehicles_to_map">
<span class="sig-name descname"><span class="pre">chargingdemand_nvehicles_to_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.chargingdemand_nvehicles_to_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.chargingdemand_nvehicles_to_map" title="Link to this definition">#</a></dt>
<dd><p>Creates a Folium map visualizing the number of vehicles charging at home, work, and POI locations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.chargingdemand_pervehicle_to_map">
<span class="sig-name descname"><span class="pre">chargingdemand_pervehicle_to_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.chargingdemand_pervehicle_to_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.chargingdemand_pervehicle_to_map" title="Link to this definition">#</a></dt>
<dd><p>Creates a Folium map visualizing the charging demand per vehicle at home, work, and POI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.chargingdemand_total_to_map">
<span class="sig-name descname"><span class="pre">chargingdemand_total_to_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.chargingdemand_total_to_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.chargingdemand_total_to_map" title="Link to this definition">#</a></dt>
<dd><p>Creates a Folium map visualizing the total charging demand at origin and destination points.S</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.compute_spatial_demand">
<span class="sig-name descname"><span class="pre">compute_spatial_demand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.compute_spatial_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.compute_spatial_demand" title="Link to this definition">#</a></dt>
<dd><p>Compute the spatial charging demand and store results in the _spatial_demand DataFrame.</p>
<p>This method calculates the total and per-vehicle daily charging demand at each traffic zone based 
on the scenario configuration and zone-specific properties. It updates the spatial_demand attribute
with the computed results.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>None: This method does not return a value; it updates the internal _spatial_demand DataFrame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.compute_temporal_demand">
<span class="sig-name descname"><span class="pre">compute_temporal_demand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">travel_time_home_work</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc_threshold_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc_threshold_std_dev</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.compute_temporal_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.compute_temporal_demand" title="Link to this definition">#</a></dt>
<dd><p>Computes the temporal charging demand for vehicles, assigning their properties 
and calculating the charging profile based on specified parameters.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>time_step (float): The time interval (in hours) for the charging profile computation.
travel_time_home_work (float): Average travel time from home to work (in hours).
soc_threshold_mean (float): Mean state of charge (SoC) threshold for vehicle charging.
soc_threshold_std_dev (float): Standard deviation for the SoC threshold.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.mobility_demand">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mobility_demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#evpv.mobilitysimulator.MobilitySimulator" title="evpv.mobilitysimulator.MobilitySimulator"><span class="pre">MobilitySimulator</span></a></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.mobility_demand" title="Link to this definition">#</a></dt>
<dd><p>MobilitySimulator: The mobility demand (i.e. flows between traffic zones) aggregated over all simulations provided.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.region">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">region</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#evpv.region.Region" title="evpv.region.Region"><span class="pre">Region</span></a></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.region" title="Link to this definition">#</a></dt>
<dd><p>Region: The region used in the simulation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.scenario">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scenario</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.scenario" title="Link to this definition">#</a></dt>
<dd><p>dict: The charging scenario.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.spatial_demand">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spatial_demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.spatial_demand" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: The spatial charging demand.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.temporal_demand_profile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">temporal_demand_profile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.temporal_demand_profile" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: The temporal charging demand for each vehicle.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.temporal_demand_profile_aggregated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">temporal_demand_profile_aggregated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.temporal_demand_profile_aggregated" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: The total temporal charging demand (aggregated over each vehicle).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.temporal_demand_vehicle_properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">temporal_demand_vehicle_properties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.temporal_demand_vehicle_properties" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: The properties of the vehicles that are charging today.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/chargingsimulator.html#ChargingSimulator.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.to_csv" title="Link to this definition">#</a></dt>
<dd><p>Saves two CSV files with the main output data for flows and aggregated zone metrics.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>filepath (str): Base path for the output files. Automatically appends suffixes</dt><dd><p>“_flows” and “_aggregated_zone_metrics” before “.csv”.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.chargingsimulator.ChargingSimulator.vehicle_fleet">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vehicle_fleet</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#evpv.vehiclefleet.VehicleFleet" title="evpv.vehiclefleet.VehicleFleet"><span class="pre">VehicleFleet</span></a></em><a class="headerlink" href="#evpv.chargingsimulator.ChargingSimulator.vehicle_fleet" title="Link to this definition">#</a></dt>
<dd><p>VehicleFleet: The vehicle fleet used in the simulation.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-evpv.evpvsynergies">
<span id="evpv-evpvsynergies-module"></span><h2>evpv.evpvsynergies module<a class="headerlink" href="#module-evpv.evpvsynergies" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.evpvsynergies.</span></span><span class="sig-name descname"><span class="pre">EVPVSynergies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.pvsimulator.PVSimulator" title="evpv.pvsimulator.PVSimulator"><span class="pre">PVSimulator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ev</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.chargingsimulator.ChargingSimulator" title="evpv.chargingsimulator.ChargingSimulator"><span class="pre">ChargingSimulator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pv_capacity_MW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to analyze energy synergies between electric vehicle (EV) charging demand and photovoltaic (PV) production. 
The main metrics calculated include energy coverage, self-sufficiency, self-consumption, and excess PV ratios, 
as well as the Spearman correlation between EV and PV profiles over specific days.</p>
<p>This class requires:</p>
<ul class="simple">
<li><p>A PVSimulator object, which holds the capacity factor time series data for PV production.</p></li>
<li><p>A ChargingSimulator object, which stores EV charging demand profiles.</p></li>
<li><p>The installed PV capacity (in megawatts, MW) as a float value.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.calculate_fully_solar_charging_vehicles">
<span class="sig-name descname"><span class="pre">calculate_fully_solar_charging_vehicles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute_probability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.calculate_fully_solar_charging_vehicles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.calculate_fully_solar_charging_vehicles" title="Link to this definition">#</a></dt>
<dd><p>Calculate the number of vehicles that can be fully charged using only solar power on a given day.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day for which to perform the calculation, in ‘MM-DD’ format.
recompute_probability (float): Probability (between 0 and 1) of recomputing EV demand to introduce randomness. Defaults to 0.0.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The number of vehicles fully charged using solar power.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.daily_metrics">
<span class="sig-name descname"><span class="pre">daily_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recompute_probability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.daily_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.daily_metrics" title="Link to this definition">#</a></dt>
<dd><p>Compute all energy and synergy metrics over a given period.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>start_date (str): Start date in ‘MM-DD’ format.
end_date (str): End date in ‘MM-DD’ format.
n_points (int): The number of points to sample for each day. Defaults to 100.
recompute_probability (float): Probability (between 0 and 1) of recomputing EV demand for each day.</p>
</dd>
<dt>Returns:</dt><dd><p>pd.DataFrame: DataFrame containing all metrics for each day within the specified range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.energy_coverage_ratio">
<span class="sig-name descname"><span class="pre">energy_coverage_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.energy_coverage_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.energy_coverage_ratio" title="Link to this definition">#</a></dt>
<dd><p>Calculate the ratio of PV production to EV charging demand for a given day.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate the energy coverage ratio for. Defaults to ‘01-01’.</p>
</dd>
<dt>Returns:</dt><dd><p>float: Energy coverage ratio for the specified day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.ev_charging_demand_MW">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ev_charging_demand_MW</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">interp1d</span></em><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.ev_charging_demand_MW" title="Link to this definition">#</a></dt>
<dd><p>interp1d: Interpolation function for EV charging demand.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.ev_demand">
<span class="sig-name descname"><span class="pre">ev_demand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.ev_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.ev_demand" title="Link to this definition">#</a></dt>
<dd><p>Calculate the total EV charging demand by integrating over 24 hours.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>float: Total EV charging demand (MWh) for the day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.excess_pv_ratio">
<span class="sig-name descname"><span class="pre">excess_pv_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coincident_power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.excess_pv_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.excess_pv_ratio" title="Link to this definition">#</a></dt>
<dd><p>Calculate the excess PV ratio for a given day.</p>
<p>The excess PV ratio is the fraction of PV production that exceeds the EV demand.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate the excess PV ratio for. Defaults to ‘01-01’.
coincident_power (float): The coincident power if already calculated. Default is None.</p>
</dd>
<dt>Returns:</dt><dd><p>float: Excess PV ratio for the specified day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.pv_capacity_MW">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pv_capacity_MW</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.pv_capacity_MW" title="Link to this definition">#</a></dt>
<dd><p>float: PV capacity in megawatts (MW).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.pv_capacity_factor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pv_capacity_factor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.pv_capacity_factor" title="Link to this definition">#</a></dt>
<dd><p>dict: Dictionary of interpolation functions for PV capacity factors by day.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.pv_power_MW">
<span class="sig-name descname"><span class="pre">pv_power_MW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">callable</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.pv_power_MW"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.pv_power_MW" title="Link to this definition">#</a></dt>
<dd><p>Return the PV power in megawatts for a given day as a function of time.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate PV power for. Defaults to ‘01-01’.</p>
</dd>
<dt>Returns:</dt><dd><p>callable: A lambda function that calculates PV power (MW) at any given time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.pv_production">
<span class="sig-name descname"><span class="pre">pv_production</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.pv_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.pv_production" title="Link to this definition">#</a></dt>
<dd><p>Calculate the total PV production for a given day by integrating over 24 hours.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate PV production for. Defaults to ‘01-01’.</p>
</dd>
<dt>Returns:</dt><dd><p>float: Total PV production (MWh) for the specified day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.self_consumption_ratio">
<span class="sig-name descname"><span class="pre">self_consumption_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coincident_power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.self_consumption_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.self_consumption_ratio" title="Link to this definition">#</a></dt>
<dd><p>Calculate the self-consumption ratio for a given day.</p>
<p>The self-consumption ratio is the ratio of coincident power to total PV production.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate the self-consumption ratio for. Defaults to ‘01-01’.
coincident_power (float): The coincident power if already calculated. Default is None.</p>
</dd>
<dt>Returns:</dt><dd><p>float: Self-consumption ratio for the specified day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.self_sufficiency_ratio">
<span class="sig-name descname"><span class="pre">self_sufficiency_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coincident_power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.self_sufficiency_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.self_sufficiency_ratio" title="Link to this definition">#</a></dt>
<dd><p>Calculate the self-sufficiency ratio for a given day.</p>
<p>The self-sufficiency ratio is the ratio of coincident power (minimum of PV and EV demand) 
to EV demand.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate the self-sufficiency ratio for. Defaults to ‘01-01’.
coincident_power (float): The coincident power if already calculated. Default is None.</p>
</dd>
<dt>Returns:</dt><dd><p>float: Self-sufficiency ratio for the specified day.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.evpvsynergies.EVPVSynergies.spearman_correlation">
<span class="sig-name descname"><span class="pre">spearman_correlation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'01-01'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/evpv/evpvsynergies.html#EVPVSynergies.spearman_correlation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.evpvsynergies.EVPVSynergies.spearman_correlation" title="Link to this definition">#</a></dt>
<dd><p>Calculate the Spearman correlation between PV production and EV charging demand.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>day (str): The day in ‘MM-DD’ format to calculate the Spearman correlation for. Defaults to ‘01-01’.
n_points (int): The number of points to sample across the 24-hour period. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>tuple: Spearman correlation coefficient and p-value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-evpv.helpers">
<span id="evpv-helpers-module"></span><h2>evpv.helpers module<a class="headerlink" href="#module-evpv.helpers" title="Link to this heading">#</a></h2>
<p>Helper functions for the other classes of the evpv model</p>
<p>This module notably includes functions to facilitate operations on georeferenced objects and
folium maps. It also holds the formulation of the various spatial interaction models (gravity, 
raditation, …) involved in mobility demand modelling.</p>
<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.add_colormapped_feature_group">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">add_colormapped_feature_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popup_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_id_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'id'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/helpers.html#add_colormapped_feature_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.add_colormapped_feature_group" title="Link to this definition">#</a></dt>
<dd><p>Adds a feature group to the folium map <cite>m</cite> with rectangles for each zone in <cite>df</cite>.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>m (folium.Map): The folium map object.
df (pandas.DataFrame): DataFrame containing the data to display.
region (object): Region object with <cite>traffic_zones</cite>.
value_col (str): Column name for the value to color by.
group_name (str): Name for the feature group layer.
popup_label (str): Label for the popup showing the data value.
zone_id_col (str): Column name in <cite>df</cite> used to match <cite>region.traffic_zones</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.add_raster_to_folium">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">add_raster_to_folium</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folium_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Map</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Map</span></span></span><a class="reference internal" href="_modules/evpv/helpers.html#add_raster_to_folium"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.add_raster_to_folium" title="Link to this definition">#</a></dt>
<dd><p>Adds a raster overlay to a Folium map.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>raster_path (str): The path to the raster file to be added.
folium_map (folium.Map): The Folium map instance to which the raster will be added.</p>
</dd>
<dt>Returns:</dt><dd><p>folium.Map: The updated Folium map with the raster overlay.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.add_taz_boundaries">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">add_taz_boundaries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traffic_zones</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/helpers.html#add_taz_boundaries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.add_taz_boundaries" title="Link to this definition">#</a></dt>
<dd><p>Adds TAZ boundaries as rectangles to the map.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>map_obj (folium.Map): The map to which TAZ boundaries will be added.
traffic_zones (pd.DataFrame): DataFrame with <cite>geometry</cite> column containing zone boundaries.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.calculate_days_between_charges_single_vehicle">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">calculate_days_between_charges_single_vehicle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">daily_charging_demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_capacity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc_threshold_mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soc_threshold_std_dev</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/helpers.html#calculate_days_between_charges_single_vehicle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.calculate_days_between_charges_single_vehicle" title="Link to this definition">#</a></dt>
<dd><p>Calculates the average number of days between charges for a vehicle based on its daily energy demand and battery capacity.</p>
<p>The number of days is calculated using a random state of charge (SoC) threshold sampled from a normal distribution (as described in Pareschi et al., Applied Energy, 2020).
The average days between charges is determined by the SoC threshold and the daily rate of SoC decrease.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>daily_charging_demand (float): The daily energy demand of the vehicle in kWh.
battery_capacity (float): The total battery capacity of the vehicle in kWh.
soc_threshold_mean (float, optional): The mean value of the SoC threshold. Defaults to 0.6 (as described in Pareschi et al., Applied Energy, 2020).
soc_threshold_std_dev (float, optional): The standard deviation of the SoC threshold. Defaults to 0.2 (as described in Pareschi et al., Applied Energy, 2020).</p>
</dd>
<dt>Returns:</dt><dd><p>float: The average number of days between full charges. The value is capped at a minimum of 1 day between two charges.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.create_base_map">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">create_base_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/helpers.html#create_base_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.create_base_map" title="Link to this definition">#</a></dt>
<dd><p>Creates a base Folium map centered on the region’s centroid with administrative boundaries.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>region (object): An object representing the region with <cite>centroid_coords</cite> and <cite>region_geometry</cite> attributes.</p>
</dd>
<dt>Returns:</dt><dd><p>folium.Map: The base map with administrative boundaries added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.create_unique_id">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">create_unique_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/evpv/helpers.html#create_unique_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.create_unique_id" title="Link to this definition">#</a></dt>
<dd><p>Creates a unique identifier based on the input variables.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>variables (list): A list of variables to generate a unique ID from.</p>
</dd>
<dt>Returns:</dt><dd><p>str: A unique hash string representing the combined input variables.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.crop_raster">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">crop_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raster_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_raster_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/evpv/helpers.html#crop_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.crop_raster" title="Link to this definition">#</a></dt>
<dd><p>Creates a new raster cropped to the specified bounding box.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>raster_path (str): The path to the input raster file.
bbox (tuple): A tuple of four floats representing the bounding box (minx, miny, maxx, maxy).
output_raster_path (str): The path where the output cropped raster will be saved.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.get_graph_bbox">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">get_graph_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/evpv/helpers.html#get_graph_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.get_graph_bbox" title="Link to this definition">#</a></dt>
<dd><p>Gets the bounding box of a graph.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>G: The graph from which to calculate the bounding box.</p>
</dd>
<dt>Returns:</dt><dd><p>tuple: A tuple of four floats representing (north, south, east, west) boundaries of the graph.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="evpv.helpers.prod_constrained_gravity_power">
<span class="sig-prename descclassname"><span class="pre">evpv.helpers.</span></span><span class="sig-name descname"><span class="pre">prod_constrained_gravity_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_n_trips</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_attractivity_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/evpv/helpers.html#prod_constrained_gravity_power"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.helpers.prod_constrained_gravity_power" title="Link to this definition">#</a></dt>
<dd><p>Estimates flows from origin to destinations using a production-constrained gravity model with a power law cost.</p>
<p>This is a special case of a spatial interaction model, where the total number of outflows $T_{i,out}$ 
from origin $i$ is known (production-constrained), thus imposing the value of the constant $C_i$, and
the cost function $f(d_{ij})$ follows a power law</p>
<div class="math notranslate nohighlight">
\[T_{ij} = T_{i,out} C_i A_j f(d_{ij})\]</div>
<div class="math notranslate nohighlight">
\[C_i = 1/\sum_{k \neq i} A_j f(d_{ij})\]</div>
<div class="math notranslate nohighlight">
\[f(d_{ij})=d_{ij}^{-\gamma}\]</div>
<p>with $T_{ij}$ the number of trips from origin $i$ to destination $j$, and $A_j$ the attractivity 
of destination $j$. Note note that $T_{ii}$ can not be calculated with this model as $d_{ii}$ is 
generally not well defined.</p>
<p>For an introduction to spatial interaction models, we recommend the following book chapter:  
Griffith, D.A., Fischer, M.M. (2016). Constrained Variants of the Gravity Model and Spatial 
Dependence: Model Specification and Estimation Issues. <a class="reference external" href="https://doi.org/10.1007/978-3-319-30196-9_3">https://doi.org/10.1007/978-3-319-30196-9_3</a></p>
<dl class="simple">
<dt>Args:</dt><dd><p>origin_n_trips (float): The total number of trips originating from the origin.
dest_attractivity_list (list[float]): A list of attractivity values for each destination.
cost_list (list[float]): A list of cost values corresponding to each destination.
gamma (float, optional): The exponent applied to the cost in the calculation. Defaults to 1.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: An array of estimated flows to each destination.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-evpv.mobilitysimulator">
<span id="evpv-mobilitysimulator-module"></span><h2>evpv.mobilitysimulator module<a class="headerlink" href="#module-evpv.mobilitysimulator" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.mobilitysimulator.</span></span><span class="sig-name descname"><span class="pre">MobilitySimulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vehicle_fleet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.vehiclefleet.VehicleFleet" title="evpv.vehiclefleet.VehicleFleet"><span class="pre">VehicleFleet</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#evpv.region.Region" title="evpv.region.Region"><span class="pre">Region</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_allocation_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_distribution_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to perform a mobility demand simulation for a given region.</p>
<p>This class simulates the demand of commuting demand based on a given vehicle fleet and region, supporting various methods for 
allocating vehicles spatially and performing trip distribution using spatial interaction modelling.</p>
<p>Key Features:
- Vehicle allocation: Allocates vehicles across zones of a region based on user-defined methods, supporting the addition of randomness.
- Trip distribution: Supports various spatial interaction models for trip distribution, such as the gravity and radiation models, allowing for customization of attraction and cost features to generate realistic commuting demand.
- Self-calibrated gravity model: Integrates a self-calibrated gravity model that can be used without calibration, following the work of Lenormand et. al. 2016  
- Routing and time/distance calculation: Enables flexible distance computation through both euclidean and road-based distances, with optional integration of OpenRouteService (ORS) API for advanced routing.
- Distance offset: Allows for adding a distance offset added to the distance calculated for commuting.</p>
<p>Note: This class assumes the region is pre-defined and vehicle allocation parameters are specified in a dictionary. The use of the <cite>ors_key</cite> parameter enables routing with real road network data, while omitting it defaults to basic distance calculations.</p>
<dl class="py property">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.aggregated_zone_metrics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aggregated_zone_metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.aggregated_zone_metrics" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: The aggregated_zone_metrics of the trip distribution model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.flows">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.flows" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: The flows of the trip distribution model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.is_valid_ors_connection">
<span class="sig-name descname"><span class="pre">is_valid_ors_connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ors_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.is_valid_ors_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.is_valid_ors_connection" title="Link to this definition">#</a></dt>
<dd><p>Check if the ORS key is valid by creating a client.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ors_key (str): The ORS API key to validate.</p>
</dd>
<dt>Returns:</dt><dd><p>bool: True if the key is valid, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.prod_constrained_gravity_exp">
<span class="sig-name descname"><span class="pre">prod_constrained_gravity_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_n_trips</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_attractivity_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.prod_constrained_gravity_exp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.prod_constrained_gravity_exp" title="Link to this definition">#</a></dt>
<dd><p>Estimates flows from origin to destinations using a production-constrained gravity model with exponential cost.</p>
<p>This is a special case of a spatial interaction model, where the cost function$f(d_{ij})$ follows an exponential 
law.</p>
<div class="math notranslate nohighlight">
\[f(d_{ij})=e^{-d_{ij} \beta}\]</div>
<p>See prod_constrained_gravity_power() for more details on spatial interaction models for trip distribution.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>origin_n_trips (float): The total number of trips originating from the origin.
dest_attractivity_list (list[float]): A list of attractivity values for each destination.
cost_list (list[float]): A list of cost values corresponding to each destination.
beta (float, optional): The exponent applied to the cost in the calculation.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: An array of estimated flows to each destination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.prod_constrained_radiation">
<span class="sig-name descname"><span class="pre">prod_constrained_radiation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_n_trips</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_attractivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_attractivity_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.prod_constrained_radiation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.prod_constrained_radiation" title="Link to this definition">#</a></dt>
<dd><p>Estimates flows from origin to destinations using a production-constrained radiation model.</p>
<p>This is a special case of an intervening opportunity spatial interaction model. In this case, the algorithm is more
complex than gravity laws, as the cost function $f(d_{ij})$ includes the intervening opportunities located at a distance 
smaller than $d_{ij}$</p>
<div class="math notranslate nohighlight">
\[f(d_{ij}) = ((A_i+s_{ij}).(A_i+A_j+s_{ij}))^{-1}\]</div>
<div class="math notranslate nohighlight">
\[s_{ij} = \sum_{k \neq i,j} A_k, ~ if ~ d_{ik}&lt;d_{ij} \]</div>
<p>with $s_{ij}$ being the intervening opportunities. Refer to prod_constrained_gravity_power() for other symbols.</p>
<p>To our knowledge, this model has been initially described in the following publication:
Simini, F., González, M., Maritan, A. et al. A universal model for mobility and migration patterns. Nature 
484, 96–100 (2012). <a class="reference external" href="https://doi.org/10.1038/nature10856">https://doi.org/10.1038/nature10856</a>.</p>
<p>While this model has the advantage of being parameter-free, it seems to not perform well at smaller scales.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>origin_n_trips (float): The total number of trips originating from the origin.
origin_attractivity (float): The attractivity of the origin.
dest_attractivity_list (list[float]): A list of attractivity values for each destination.
cost_list (list[float]): A list of cost values corresponding to each destination.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: An array of estimated flows to each destination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.prod_constrained_radius">
<span class="sig-name descname"><span class="pre">prod_constrained_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_n_trips</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_attractivity_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.prod_constrained_radius"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.prod_constrained_radius" title="Link to this definition">#</a></dt>
<dd><p>Estimates flows from origin to destinations using a production-constrained model based on distance radius.</p>
<p>This is a simplified example of a spatial interaction model. In this case, the product of attractiveness 
and cost is set to 1 if the destination falls within a specified radius, and 0 otherwise. This function 
is purely hypothetical and has no practical application justification. It can serve as a test function 
since it directs all flows to destinations within the given radius.</p>
<p>See prod_constrained_gravity_power() for more details on spatial interaction models for trip distribution.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>origin_n_trips (float): The total number of trips originating from the origin.
dest_attractivity_list (list[float]): A list of attractivity values for each destination.
cost_list (list[float]): A list of cost values corresponding to each destination.
radius (float, optional): The maximum distance for attractivity.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: An array of estimated flows to each destination.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.region">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">region</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#evpv.region.Region" title="evpv.region.Region"><span class="pre">Region</span></a></em><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.region" title="Link to this definition">#</a></dt>
<dd><p>Region: The region used in the simulation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.to_csv" title="Link to this definition">#</a></dt>
<dd><p>Saves two CSV files with the main output data for flows and aggregated zone metrics.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>filepath (str): Base path for the output files. Automatically appends suffixes</dt><dd><p>“_flows” and “_aggregated_zone_metrics” before “.csv”.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.trip_distribution">
<span class="sig-name descname"><span class="pre">trip_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">49</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.trip_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.trip_distribution" title="Link to this definition">#</a></dt>
<dd><p>Distributes trips between traffic zones based on a spatial interaction model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.trip_distribution_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trip_distribution_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.trip_distribution_params" title="Link to this definition">#</a></dt>
<dd><p>dict: Parameters used for trip distribution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.trip_distribution_to_map">
<span class="sig-name descname"><span class="pre">trip_distribution_to_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.trip_distribution_to_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.trip_distribution_to_map" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.update_aggregated_metrics">
<span class="sig-name descname"><span class="pre">update_aggregated_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.update_aggregated_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.update_aggregated_metrics" title="Link to this definition">#</a></dt>
<dd><p>Updates the aggregated zone metrics based on flows data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation">
<span class="sig-name descname"><span class="pre">vehicle_allocation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.vehicle_allocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation" title="Link to this definition">#</a></dt>
<dd><p>Allocates vehicle (number of outflows) to traffic zones.</p>
<p>This method returns a new DataFrame containing the <cite>id</cite> of each zone and 
the allocated number of outflows (<cite>n_outflows</cite>).</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>pd.DataFrame: A DataFrame with zone metrics, including <cite>id</cite> and <cite>n_outflows</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vehicle_allocation_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation_params" title="Link to this definition">#</a></dt>
<dd><p>str: The method used for trip generation (e.g., ‘population’).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation_to_map">
<span class="sig-name descname"><span class="pre">vehicle_allocation_to_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/mobilitysimulator.html#MobilitySimulator.vehicle_allocation_to_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation_to_map" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.mobilitysimulator.MobilitySimulator.vehicle_fleet">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vehicle_fleet</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#evpv.vehiclefleet.VehicleFleet" title="evpv.vehiclefleet.VehicleFleet"><span class="pre">VehicleFleet</span></a></em><a class="headerlink" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_fleet" title="Link to this definition">#</a></dt>
<dd><p>VehicleFleet: The vehicle fleet used in the simulation.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-evpv.pvsimulator">
<span id="evpv-pvsimulator-module"></span><h2>evpv.pvsimulator module<a class="headerlink" href="#module-evpv.pvsimulator" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.pvsimulator.</span></span><span class="sig-name descname"><span class="pre">PVSimulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">environment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pv_module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">installation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/pvsimulator.html#PVSimulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.pvsimulator.PVSimulator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.calculate_angular_losses">
<span class="sig-name descname"><span class="pre">calculate_angular_losses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat_tilt_diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/pvsimulator.html#PVSimulator.calculate_angular_losses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.calculate_angular_losses" title="Link to this definition">#</a></dt>
<dd><p>Calculate the angular losses for a standard m-Si module based on the difference
between latitude and tilt angle.</p>
<p>Martin, J.M. Ruiz,
Calculation of the PV modules angular losses under field conditions by means of an analytical model,
Solar Energy Materials and Solar Cells,
Volume 70, Issue 1,
2001,
Pages 25-38,
ISSN 0927-0248,
<a class="reference external" href="https://doi.org/10.1016/S0927-0248(00)00408-6">https://doi.org/10.1016/S0927-0248(00)00408-6</a>.</p>
<p>Parameters:
- lat_tilt_diff (float): The difference between latitude and tilt angle in degrees.</p>
<p>Returns:
- float: Angular losses as a percentage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.compute_pv_production">
<span class="sig-name descname"><span class="pre">compute_pv_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/evpv/pvsimulator.html#PVSimulator.compute_pv_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.compute_pv_production" title="Link to this definition">#</a></dt>
<dd><p>Compute the PV production and main KPIs using POA weather data.</p>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>pd.DataFrame: A DataFrame containing PV production, performance ratio, capacity factor, </dt><dd><p>operating temperature, and POA irradiance.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.environment">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">environment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.environment" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.get_timezone">
<span class="sig-name descname"><span class="pre">get_timezone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/evpv/pvsimulator.html#PVSimulator.get_timezone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.get_timezone" title="Link to this definition">#</a></dt>
<dd><p>Get timezone string based on latitude and longitude.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>lat (float): Latitude of the location.
lon (float): Longitude of the location.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The timezone string if found, otherwise None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.installation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">installation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.installation" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.pv_module">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pv_module</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.pv_module" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.pvsimulator.PVSimulator.results">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">results</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">DataFrame</span></em><a class="headerlink" href="#evpv.pvsimulator.PVSimulator.results" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-evpv.region">
<span id="evpv-region-module"></span><h2>evpv.region module<a class="headerlink" href="#module-evpv.region" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.region.Region">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.region.</span></span><span class="sig-name descname"><span class="pre">Region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region_geojson</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population_raster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workplaces_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pois_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traffic_zone_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/region.html#Region"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.region.Region" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to represent the region of interest, subdivided into traffic zones populated with aggregated geospatial data.</p>
<p>This class enables geospatial data input validation, subdivision into traffic zones, and the aggregation of data 
across these zones. Specifically, it facilitates the processing of population data from raster files, workplace and POI data 
from CSVs, and the generation of traffic zones based on configurable properties. The class also supports the export of traffic 
zone data for further analysis and visualization through CSV files and Folium maps.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Input Data Validation: Validates input data and recalculates/repopulates traffic zones on-the-fly when key properties are modified.</p></li>
<li><p>Traffic Zone Creation: Defines the traffic zones based of zone target size and shape, and provides the option to crop zones to the boundaries of the defined region.</p></li>
<li><p>Data Aggregation: Aggregates population, workplace, and POI data within each traffic zone.</p></li>
<li><p>Export and Visualizatio: Offers traffic zone export to CSV and visualization via Folium maps</p></li>
</ul>
<p>Note: The region of interest is converted to a bounding box for zoning purposes. Set the <cite>crop_to_region</cite> parameter to <cite>True</cite> to retain only 
zones within the region’s boundaries.</p>
<dl class="py method">
<dt class="sig sig-object py" id="evpv.region.Region.average_zone_area_km2">
<span class="sig-name descname"><span class="pre">average_zone_area_km2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/region.html#Region.average_zone_area_km2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.region.Region.average_zone_area_km2" title="Link to this definition">#</a></dt>
<dd><p>Calculates the average area of the traffic zones in square kilometers.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>float: The area in square kilometers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.region.Region.calculate_area_km2">
<span class="sig-name descname"><span class="pre">calculate_area_km2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/region.html#Region.calculate_area_km2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.region.Region.calculate_area_km2" title="Link to this definition">#</a></dt>
<dd><p>Calculates the area of the region in square kilometers.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>float: The area in square kilometers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.region.Region.centroid_coords">
<span class="sig-name descname"><span class="pre">centroid_coords</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/evpv/region.html#Region.centroid_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.region.Region.centroid_coords" title="Link to this definition">#</a></dt>
<dd><p>Get the coordinates of the centroid of the target area.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>tuple: The (latitude, longitude) coordinates of the centroid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.region.Region.pois">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pois</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span></em><a class="headerlink" href="#evpv.region.Region.pois" title="Link to this definition">#</a></dt>
<dd><p>list: A list of tuples representing points of interest (longitude, latitude)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.region.Region.population_density">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">population_density</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#evpv.region.Region.population_density" title="Link to this definition">#</a></dt>
<dd><p>str: The population density data from the raster file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.region.Region.region_geometry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">region_geometry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Polygon</span></em><a class="headerlink" href="#evpv.region.Region.region_geometry" title="Link to this definition">#</a></dt>
<dd><p>Polygon: The shapely polygon representing the region of interest.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.region.Region.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/evpv/region.html#Region.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.region.Region.to_csv" title="Link to this definition">#</a></dt>
<dd><p>Saves a csv file with all data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.region.Region.to_map">
<span class="sig-name descname"><span class="pre">to_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/evpv/region.html#Region.to_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.region.Region.to_map" title="Link to this definition">#</a></dt>
<dd><p>Saves a folium map with simulation setup properties, including region geometry, 
zone geometry, population, workplaces, and POIs.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.region.Region.traffic_zone_properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">traffic_zone_properties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#evpv.region.Region.traffic_zone_properties" title="Link to this definition">#</a></dt>
<dd><p>dict: A dictionary of traffic zone properties.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.region.Region.traffic_zones">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">traffic_zones</span></span><a class="headerlink" href="#evpv.region.Region.traffic_zones" title="Link to this definition">#</a></dt>
<dd><p>pd.DataFrame: Data representing the traffic zones in the region.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.region.Region.workplaces">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">workplaces</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span></em><a class="headerlink" href="#evpv.region.Region.workplaces" title="Link to this definition">#</a></dt>
<dd><p>list: A list of tuples representing workplaces (longitude, latitude)</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-evpv.vehicle">
<span id="evpv-vehicle-module"></span><h2>evpv.vehicle module<a class="headerlink" href="#module-evpv.vehicle" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.vehicle.Vehicle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.vehicle.</span></span><span class="sig-name descname"><span class="pre">Vehicle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery_capacity_kWh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumption_kWh_per_km</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_charging_power_kW</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/vehicle.html#Vehicle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.vehicle.Vehicle" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to represent an Electric Vehicle (EV) with configurable attributes.</p>
<dl class="py property">
<dt class="sig sig-object py" id="evpv.vehicle.Vehicle.battery_capacity_kWh">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">battery_capacity_kWh</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#evpv.vehicle.Vehicle.battery_capacity_kWh" title="Link to this definition">#</a></dt>
<dd><p>float: The battery capacity of the vehicle in kWh.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.vehicle.Vehicle.consumption_kWh_per_km">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">consumption_kWh_per_km</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#evpv.vehicle.Vehicle.consumption_kWh_per_km" title="Link to this definition">#</a></dt>
<dd><p>float: The energy consumption of the vehicle per kilometer in kWh/km.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.vehicle.Vehicle.max_charging_power_kW">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_charging_power_kW</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#evpv.vehicle.Vehicle.max_charging_power_kW" title="Link to this definition">#</a></dt>
<dd><p>float: The maximum charging power of the vehicle in kW.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.vehicle.Vehicle.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#evpv.vehicle.Vehicle.name" title="Link to this definition">#</a></dt>
<dd><p>str: The name of the vehicle.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-evpv.vehiclefleet">
<span id="evpv-vehiclefleet-module"></span><h2>evpv.vehiclefleet module<a class="headerlink" href="#module-evpv.vehiclefleet" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evpv.vehiclefleet.VehicleFleet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evpv.vehiclefleet.</span></span><span class="sig-name descname"><span class="pre">VehicleFleet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_vehicles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evpv/vehiclefleet.html#VehicleFleet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.vehiclefleet.VehicleFleet" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to represent a fleet of electric vehicles (EVs) with specified types and their shares.</p>
<dl class="py method">
<dt class="sig sig-object py" id="evpv.vehiclefleet.VehicleFleet.average_battery_capacity">
<span class="sig-name descname"><span class="pre">average_battery_capacity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/vehiclefleet.html#VehicleFleet.average_battery_capacity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.vehiclefleet.VehicleFleet.average_battery_capacity" title="Link to this definition">#</a></dt>
<dd><p>Calculates the average battery capacity based on vehicle shares.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>float: The average battery capacity in kWh.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evpv.vehiclefleet.VehicleFleet.average_consumption">
<span class="sig-name descname"><span class="pre">average_consumption</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/evpv/vehiclefleet.html#VehicleFleet.average_consumption"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evpv.vehiclefleet.VehicleFleet.average_consumption" title="Link to this definition">#</a></dt>
<dd><p>Calculates the average consumption based on vehicle shares.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>float: The average consumption in kWh/km.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.vehiclefleet.VehicleFleet.total_vehicles">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_vehicles</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#evpv.vehiclefleet.VehicleFleet.total_vehicles" title="Link to this definition">#</a></dt>
<dd><p>int: The total number of vehicles in the fleet.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="evpv.vehiclefleet.VehicleFleet.vehicle_types">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vehicle_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span></em><a class="headerlink" href="#evpv.vehiclefleet.VehicleFleet.vehicle_types" title="Link to this definition">#</a></dt>
<dd><p>list: The list of vehicle types and their shares in the fleet.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-evpv">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-evpv" title="Link to this heading">#</a></h2>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to evpv’s documentation!</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.chargingsimulator">evpv.chargingsimulator module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.apply_smart_charging"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.apply_smart_charging()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.charging_efficiency"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.charging_efficiency</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.chargingdemand_nvehicles_to_map"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.chargingdemand_nvehicles_to_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.chargingdemand_pervehicle_to_map"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.chargingdemand_pervehicle_to_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.chargingdemand_total_to_map"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.chargingdemand_total_to_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.compute_spatial_demand"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.compute_spatial_demand()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.compute_temporal_demand"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.compute_temporal_demand()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.mobility_demand"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.mobility_demand</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.region"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.region</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.scenario"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.scenario</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.spatial_demand"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.spatial_demand</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.temporal_demand_profile"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.temporal_demand_profile</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.temporal_demand_profile_aggregated"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.temporal_demand_profile_aggregated</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.temporal_demand_vehicle_properties"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.temporal_demand_vehicle_properties</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.to_csv"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.to_csv()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.chargingsimulator.ChargingSimulator.vehicle_fleet"><code class="docutils literal notranslate"><span class="pre">ChargingSimulator.vehicle_fleet</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.evpvsynergies">evpv.evpvsynergies module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.calculate_fully_solar_charging_vehicles"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.calculate_fully_solar_charging_vehicles()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.daily_metrics"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.daily_metrics()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.energy_coverage_ratio"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.energy_coverage_ratio()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.ev_charging_demand_MW"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.ev_charging_demand_MW</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.ev_demand"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.ev_demand()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.excess_pv_ratio"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.excess_pv_ratio()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.pv_capacity_MW"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.pv_capacity_MW</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.pv_capacity_factor"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.pv_capacity_factor</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.pv_power_MW"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.pv_power_MW()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.pv_production"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.pv_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.self_consumption_ratio"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.self_consumption_ratio()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.self_sufficiency_ratio"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.self_sufficiency_ratio()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.evpvsynergies.EVPVSynergies.spearman_correlation"><code class="docutils literal notranslate"><span class="pre">EVPVSynergies.spearman_correlation()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.helpers">evpv.helpers module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.add_colormapped_feature_group"><code class="docutils literal notranslate"><span class="pre">add_colormapped_feature_group()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.add_raster_to_folium"><code class="docutils literal notranslate"><span class="pre">add_raster_to_folium()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.add_taz_boundaries"><code class="docutils literal notranslate"><span class="pre">add_taz_boundaries()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.calculate_days_between_charges_single_vehicle"><code class="docutils literal notranslate"><span class="pre">calculate_days_between_charges_single_vehicle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.create_base_map"><code class="docutils literal notranslate"><span class="pre">create_base_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.create_unique_id"><code class="docutils literal notranslate"><span class="pre">create_unique_id()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.crop_raster"><code class="docutils literal notranslate"><span class="pre">crop_raster()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.get_graph_bbox"><code class="docutils literal notranslate"><span class="pre">get_graph_bbox()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.helpers.prod_constrained_gravity_power"><code class="docutils literal notranslate"><span class="pre">prod_constrained_gravity_power()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.mobilitysimulator">evpv.mobilitysimulator module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.aggregated_zone_metrics"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.aggregated_zone_metrics</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.flows"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.flows</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.is_valid_ors_connection"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.is_valid_ors_connection()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.prod_constrained_gravity_exp"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.prod_constrained_gravity_exp()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.prod_constrained_radiation"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.prod_constrained_radiation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.prod_constrained_radius"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.prod_constrained_radius()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.region"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.region</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.to_csv"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.to_csv()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.trip_distribution"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.trip_distribution()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.trip_distribution_params"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.trip_distribution_params</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.trip_distribution_to_map"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.trip_distribution_to_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.update_aggregated_metrics"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.update_aggregated_metrics()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.vehicle_allocation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation_params"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.vehicle_allocation_params</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_allocation_to_map"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.vehicle_allocation_to_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.mobilitysimulator.MobilitySimulator.vehicle_fleet"><code class="docutils literal notranslate"><span class="pre">MobilitySimulator.vehicle_fleet</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.pvsimulator">evpv.pvsimulator module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator"><code class="docutils literal notranslate"><span class="pre">PVSimulator</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.calculate_angular_losses"><code class="docutils literal notranslate"><span class="pre">PVSimulator.calculate_angular_losses()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.compute_pv_production"><code class="docutils literal notranslate"><span class="pre">PVSimulator.compute_pv_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.environment"><code class="docutils literal notranslate"><span class="pre">PVSimulator.environment</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.get_timezone"><code class="docutils literal notranslate"><span class="pre">PVSimulator.get_timezone()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.installation"><code class="docutils literal notranslate"><span class="pre">PVSimulator.installation</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.pv_module"><code class="docutils literal notranslate"><span class="pre">PVSimulator.pv_module</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.pvsimulator.PVSimulator.results"><code class="docutils literal notranslate"><span class="pre">PVSimulator.results</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.region">evpv.region module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region"><code class="docutils literal notranslate"><span class="pre">Region</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.average_zone_area_km2"><code class="docutils literal notranslate"><span class="pre">Region.average_zone_area_km2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.calculate_area_km2"><code class="docutils literal notranslate"><span class="pre">Region.calculate_area_km2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.centroid_coords"><code class="docutils literal notranslate"><span class="pre">Region.centroid_coords()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.pois"><code class="docutils literal notranslate"><span class="pre">Region.pois</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.population_density"><code class="docutils literal notranslate"><span class="pre">Region.population_density</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.region_geometry"><code class="docutils literal notranslate"><span class="pre">Region.region_geometry</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.to_csv"><code class="docutils literal notranslate"><span class="pre">Region.to_csv()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.to_map"><code class="docutils literal notranslate"><span class="pre">Region.to_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.traffic_zone_properties"><code class="docutils literal notranslate"><span class="pre">Region.traffic_zone_properties</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.traffic_zones"><code class="docutils literal notranslate"><span class="pre">Region.traffic_zones</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.region.Region.workplaces"><code class="docutils literal notranslate"><span class="pre">Region.workplaces</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.vehicle">evpv.vehicle module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehicle.Vehicle"><code class="docutils literal notranslate"><span class="pre">Vehicle</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehicle.Vehicle.battery_capacity_kWh"><code class="docutils literal notranslate"><span class="pre">Vehicle.battery_capacity_kWh</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehicle.Vehicle.consumption_kWh_per_km"><code class="docutils literal notranslate"><span class="pre">Vehicle.consumption_kWh_per_km</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehicle.Vehicle.max_charging_power_kW"><code class="docutils literal notranslate"><span class="pre">Vehicle.max_charging_power_kW</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehicle.Vehicle.name"><code class="docutils literal notranslate"><span class="pre">Vehicle.name</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv.vehiclefleet">evpv.vehiclefleet module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehiclefleet.VehicleFleet"><code class="docutils literal notranslate"><span class="pre">VehicleFleet</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehiclefleet.VehicleFleet.average_battery_capacity"><code class="docutils literal notranslate"><span class="pre">VehicleFleet.average_battery_capacity()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehiclefleet.VehicleFleet.average_consumption"><code class="docutils literal notranslate"><span class="pre">VehicleFleet.average_consumption()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehiclefleet.VehicleFleet.total_vehicles"><code class="docutils literal notranslate"><span class="pre">VehicleFleet.total_vehicles</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evpv.vehiclefleet.VehicleFleet.vehicle_types"><code class="docutils literal notranslate"><span class="pre">VehicleFleet.vehicle_types</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-evpv">Module contents</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/evpv.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Jeremy Dumoulin.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>